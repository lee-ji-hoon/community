<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="theme-fragments.html :: head"></head>

<body>

<div id="wrapper">

    <!-- Header -->
    <header th:replace="theme-fragments.html :: header"></header>

    <!-- sidebar -->
    <div th:replace="theme-fragments.html :: side_bar"></div>

    <div class="main_content">
        <div class="mcontainer">
            <div th:replace="theme-fragments.html :: study-menu (currentStudyMenu = 'meeting')"></div>

            <div th:replace="theme-fragments.html :: study-meeting-form"></div>
            <!--모임 내용-->
            <div class="lg:mt-8 mt-4">
                <div class="md:flex md:space-x-6">
                    <div class="space-y-5 flex-shrink-0 md:w-7/12">
                        <!-- 모임 view  -->
                        <!--<div class="card divide-y divide-gray-100 sm:m-0 -mx-4" th:each="meeting : ${meetingsList}">
                            <div class="flex items-start flex-wrap p-7 sm:space-x-6">
                                <a th:href="@{'/study/' + ${study.path} + '/meetings/' + ${meeting.meetingsId}}" class="w-14 h-14 relative mt-1 order-1">
                                    <svg th:if="${#strings.isEmpty(meeting.writer.profileImage)}"
                                         th:data-jdenticon-value="${meeting.writer.studentId}"
                                         class="border border-white rounded-full w-10 h-10">
                                    </svg>
                                    <img th:if="${!#strings.isEmpty(meeting.writer.profileImage)}"
                                         th:src="${meeting.writer.profileImage}" alt=""
                                         class=" border border-white rounded-full w-10 h-10">
                                </a>
                                <div class="flex-1 sm:order-2">
                                    <a th:text="${meeting.writer.nickname}" href="#" class="text-black dark:text-gray-100"> Johnson smith </a>
                                    <h4 th:text="${meeting.meetingDivision}" class="text-base text-gray-500 font-medium mb-2">Phaseout </h4>
                                    <a th:href="@{'/study/' + ${study.path} + '/meetings/' + ${meeting.meetingsId}}">
                                        <h3 th:text="${meeting.meetingTitle}" class="text-xl font-medium mb-4"> Technical Event Support Specialist </h3>
                                    </a>
                                    &lt;!&ndash;<p> Lorem ipsum dolor sit amet, consectetuer adipiscing elit,
                                        sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat
                                        wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper ..
                                    </p>&ndash;&gt;
                                    <div class="job-tags mt-5 mb-2 space-x-2.5 space-y-2">
                                        <a th:each="tags : ${service.getMeetingTagsList(meeting)}" th:text="${tags}" href="#" class="border px-3 py-1.5 rounded-md text-sm inline-block"> Wordpress </a>
                                    </div>
                                </div>
                            </div>
                        </div>-->

                        <div th:each="meeting : ${meetingsList}" class="card lg:mx-0 uk-animation-slide-bottom-small">
                            <!-- 헤더 -->
                            <div th:href="@{'/study/' + ${study.path} + '/meetings/' + ${meeting.meetingsId}}" class="flex justify-between items-center lg:p-4 p-2.5">
                                <div class="flex flex-1 items-center space-x-4">
                                    <a href="#">
                                        <svg th:if="${#strings.isEmpty(meeting.writer.profileImage)}"
                                             th:data-jdenticon-value="${meeting.writer.studentId}"
                                             class="border border-white rounded-full w-10 h-10">
                                        </svg>
                                        <img th:if="${!#strings.isEmpty(meeting.writer.profileImage)}"
                                             th:src="${meeting.writer.profileImage}" alt=""
                                             class=" border border-white rounded-full w-10 h-10">
                                    </a>
                                    <div class="flex-1 font-semibold capitalize">
                                        <a th:text="${meeting.writer.nickname}" href="#" class="text-black dark:text-gray-100"> Johnson smith </a>
<!--                                        <div th:text="${meeting.meetingDivision}" class="text-sm"></div>-->
                                        <div class="text-sm" th:text="${service.meetingDateTime(meeting.uploadTime)}"></div>
<!--                                        <span th:text="${#temporals.format(meeting.uploadTime,  'yyyy-MM-dd')}"></span>-->
                                    </div>
                                </div>

                                <div th:if="${account.username.equals(meeting.writer.username)}">
                                    <a href="#">
                                        <i class="icon-feather-more-horizontal text-2xl hover:bg-gray-200 rounded-full p-2 transition -mr-1 dark:hover:bg-gray-700"></i>
                                    </a>
                                    <div class="bg-white w-56 shadow-md mx-auto p-2 mt-12 rounded-md text-gray-500 hidden text-base border border-gray-100 dark:bg-gray-900 dark:text-gray-100 dark:border-gray-700"
                                         uk-drop="mode: click;pos: bottom-right;animation: uk-animation-slide-bottom-small">
                                        <ul class="space-y-1">
                                            <li>
                                                <a href="#" class="flex items-center px-3 py-2 hover:bg-gray-200 hover:text-gray-800 rounded-md dark:hover:bg-gray-800">
                                                    <i class="uil-edit-alt mr-1"></i> 수정
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#" class="flex items-center px-3 py-2 text-red-500 hover:bg-red-100 hover:text-red-500 rounded-md dark:hover:bg-red-600">
                                                    <i class="uil-trash-alt mr-1"></i> 삭제
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="card p-5">
                                <a href="#"
                                   class="text-xl"
                                   th:text="${meeting.meetingTitle}"
                                   th:href="@{'/study/' + ${study.path} + '/meetings/' + ${meeting.meetingsId}}">
                                    자세히 보기
                                </a>
                                <div class="job-tags mt-5 mb-2 space-x-2.5 space-y-2">
                                    <a th:each="tags : ${service.getMeetingTagsList(meeting)}" th:text="${tags}" href="#" class="border px-3 py-1.5 rounded-md text-sm inline-block"> Wordpress </a>
                                </div>
                            </div>

                        </div>

                        <div class="flex justify-center mt-6">
                            <a href="#" class="bg-white font-semibold my-3 px-6 py-2 rounded-full shadow-md dark:bg-gray-800 dark:text-white">
                                더 보기</a>
                        </div>
                    </div>

                    <!-- Sidebar -->
                    <div class="w-full space-y-6">
                        <div uk-sticky="media @m ; offset:80 ; bottom : true">
                            <div class="widget card p-5">
                                <h4 class="text-lg font-semibold"> 스터디 주요 관심사 </h4>
                                <h5 class="text-lg font-semibold" th:if="${study.tags.size() == 0}">
                                    스터디 주제가 아직 등록되지 않았습니다.
                                </h5>

                                <ul class="text-gray-600 space-y-3 mt-3" th:if="${study.tags.size() != 0}">
                                    <li class="flex items-center space-x-2" th:each="tag : ${study.tags}">
                                        <a class="text-decoration-none text-white">
                                            #<span th:text="${tag.title}">Tag</span>
                                        </a>
                                    </li>
                                </ul>
                                <a href="#" th:href="@{'/study/' + ${study.path} + '/settings/tags'}" class="button gray mt-3 w-full"> 스터디 관심사 추가 </a>
                            </div>

                            <div class="widget card p-5 border-t mt-5">
                                <div class="flex items-center justify-between mb-4">
                                    <div>
                                        <h4 class="text-lg font-semibold"> 인원 </h4>
                                        <p class="text-sm" th:text="${study.memberCount} + '명 참여 중'"> 3,4510 Friends</p>
                                    </div>
                                </div>
                                <div class="grid grid-cols-3 gap-3 text-gray-600 font-semibold">
                                    <a href="#" th:each="managers : ${study.managers}">
                                        <div class="avatar relative rounded-md overflow-hidden w-full h-16 mb-2">
                                            <svg th:if="${#strings.isEmpty(managers.profileImage)}"
                                                 th:data-jdenticon-value="${managers.studentId}"
                                                 class="w-full h-full object-cover absolute">

                                            </svg>
                                            <img th:if="${!#strings.isEmpty(managers.profileImage)}"
                                                 th:src="${managers.profileImage}" alt=""
                                                 class="w-full h-full object-cover absolute">
                                        </div>
                                        <div th:text="${managers.nickname}" class="text-center text-sm truncate"> 유저 닉네임 </div>
                                    </a>
                                    <a href="#" th:each="member : ${study.members}">
                                        <div class="avatar relative rounded-md overflow-hidden w-full h-16 mb-2">
                                            <svg th:if="${#strings.isEmpty(member.profileImage)}"
                                                 th:data-jdenticon-value="${member.studentId}"
                                                 class="w-full h-full object-cover absolute">

                                            </svg>
                                            <img th:if="${!#strings.isEmpty(member.profileImage)}"
                                                 th:src="${member.profileImage}" alt=""
                                                 class="w-full h-full object-cover absolute">
                                        </div>
                                        <div th:text="${member.nickname}" class="text-center text-sm truncate"> 유저 닉네임 </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 스터디 참여 인원 -->
<script th:replace="theme-fragments.html :: studyBanner"></script>
<script th:replace="theme-fragments.html :: form-validation"></script>

<link  href="/node_modules/cropper/dist/cropper.min.css" rel="stylesheet">
<script src="/node_modules/cropper/dist/cropper.min.js"></script>
<script src="/node_modules/jquery-cropper/dist/jquery-cropper.min.js"></script>

<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
<script type="application/javascript">
    $(document).ready(function() {
        //여기 아래 부분
        $('#meetingDescription').summernote({
            height: 300,                 // 에디터 높이
            minHeight: null,             // 최소 높이
            maxHeight: null,             // 최대 높이
            focus: true,                  // 에디터 로딩후 포커스를 맞출지 여부
            lang: "ko-KR",
            toolbar: [
                ['font', ['bold', 'italic', 'underline', 'clear', 'codeblock']],
                ['mybutton', ['hello']],
                ['insert',['picture','link']],
            ],// 한글 설정
            placeholder: '스터디에 관련해서 최대한 자세히 작성해주세요. <br> 이미지 또한 사용 가능합니다.'	//placeholder 설정


        });
    });
</script>
</body>

</html>