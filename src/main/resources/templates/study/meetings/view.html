<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="theme-fragments.html :: head"></head>

<body>

<div id="wrapper">

    <!-- Header -->
    <header th:replace="theme-fragments.html :: header"></header>

    <!-- sidebar -->
    <div th:replace="theme-fragments.html :: side_bar"></div>

    <div class="main_content">
        <div class="mcontainer">
            <div th:replace="theme-fragments.html :: study-menu (currentStudyMenu = 'meeting')"></div>
            <div id="create-post-modal" class="create-post" uk-modal>
                <div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical shadow-2xl uk-animation-slide-bottom-small">

                    <div class="py-4 border-b flex  justify-between px-6">
                        <h3 class="text-lg font-semibold" id="forum_head"> 모임 작성하기 </h3>
                        <div>
                            <button class="uk-modal-close-default hover:bg-gray-100 rounded-full p-2.5 block uk-icon uk-close mt-0.5"
                                    type="button" uk-close>
                                <i class="icon-feather-close"></i>
                            </button>
                        </div>
                    </div>

                    <form class="needs-validation space-y-4 g:w-8/12" id="board_form"
                          th:object="${meetingsForm}" th:action="@{'/study/' + ${study.getPath()} + '/meetings'}" method="post" novalidate>
                        <div class="create-post-modal-body space-x-6 p-5 overflow-x-hidden mr-1" data-simplebar>
                            <div class="space-y-4 g:w-8/12">
                                <div class="form-group">
                                    <label for="selectBox"> 유형 선택 </label>
                                    <select id="selectBox" name="selectBox"  class="shadow-none with-border px-2" th:field="*{meetingDivision}">
                                        <option data-icon="icon-material-outline-assignment" value="자유" selected>공지</option>
                                        <option data-icon="icon-material-outline-help-outline" value="질문">질문</option>
                                        <option data-icon="icon-material-outline-assignment" value="정보">정보</option>
                                    </select>
                                </div>
                                <!--<div id="subBoardSort">
                                    <div class="form-group">
                                        <label for="selectBoxSub"> 종류 선택 </label>
                                        <select id="selectBoxSub" name="selectBoxSub"  class="shadow-none with-border form-control px-2">
                                            <optgroup label="QnA" id="opgQnA">
                                                <option data-icon="icon-material-outline-help-outline" value="" hidden>선택</option>
                                                <option data-icon="icon-material-outline-help-outline" value="major">전공 관련</option>
                                                <option data-icon="icon-material-outline-help-outline" value="college">학교 관련</option>
                                                <option data-icon="icon-material-outline-movie" value="qnaEtc"> 기타 </option>
                                            </optgroup>
                                            <optgroup label="정보" id="opgInfo">
                                                <option data-icon="icon-material-outline-language" value="web"> HTML</option>
                                                <option data-icon="icon-material-outline-code" value="java"> JAVA</option>
                                                <option data-icon="icon-material-outline-movie" value="media"> 영상</option>
                                                <option data-icon="icon-material-outline-movie" value="vrar"> VR/AR</option>
                                                <option data-icon="icon-material-outline-movie" value="infoEtc"> 기타 </option>
                                            </optgroup>
                                        </select>
                                    </div>
                                </div>-->
                                <div class="font-semibold text-lg"> 자세한 내용 </div>
                                <!-- 제목 -->
                                <div class="form-group">
                                    <div class="line">
                                        <input class="line__input form-control" id="title" th:field="*{meetingTitle}"
                                               type="text" onkeyup="this.setAttribute('value', this.value);"
                                               aria-describedby="titleHelp" required autocomplete="off">
                                        <span for="username" class="line__placeholder"> 제목 </span>
                                    </div>
                                    <small id="titleHelp" class="form-text text-muted">
                                        제목은 5글자부터 최대 30글자까지 입력 가능합니다.
                                    </small>
                                    <small class="invalid-feedback">제목을 입력해주세요.</small>
                                    <small class="form-text text-danger" th:if="${#fields.hasErrors('meetingTitle')}" th:errors="*{meetingTitle}">meetingTitle Error</small>

                                </div>
                                <!-- 주제 -->
                                <div id="meetingMethod" class="form-group">
                                    <div class="line">
                                        <input class="line__input form-group" id="method" th:field="*{meetingMethod}"
                                               type="text" onkeyup="this.setAttribute('value', this.value);"
                                               aria-describedby="subTitleHelp" required autocomplete="off">
                                        <span for="username" class="line__placeholder"> 주제 </span>
                                    </div>
                                    <small class="invalid-feedback">주제를 입력해주세요..</small>
                                    <small id="meetingMethodHelp" class="form-text text-muted">
                                        질문에 관련한 주제를 입력해주세요.
                                    </small>
                                    <small class="form-text text-danger" th:if="${#fields.hasErrors('meetingMethod')}" th:errors="*{meetingMethod}">meetingMethod Error</small>
                                </div>
                                <!-- 위치 -->
                                <div id="meetingPlaces" class="form-group">
                                    <div class="line">
                                        <input class="line__input form-group" id="places" th:field="*{meetingPlaces}"
                                               type="text" onkeyup="this.setAttribute('value', this.value);"
                                               aria-describedby="subTitleHelp" required autocomplete="off">
                                        <span for="username" class="line__placeholder"> 위치 </span>
                                    </div>
                                    <small class="invalid-feedback">스터디를 진행할 곳을 적어주세요..</small>
                                    <small id="meetingPlacesHep" class="form-text text-muted">
                                        스터디를 진행할 곳을 적어주세요.
                                    </small>
                                    <small class="form-text text-danger" th:if="${#fields.hasErrors('meetingPlaces')}" th:errors="*{meetingPlaces}">meetingPlaces Error</small>
                                </div>
                                <!-- 본문 -->
                                <div class="form-group">
                                    <div class="line">
                                        <label for="meetingDescription">상세 소개</label>
                                        <textarea id="meetingDescription" type="textarea" th:field="*{meetingDescription}" class="shadow-none with-border p-3 form-control" placeholder="스터디를 자세히 설명해 주세요." aria-describedby="fullDescriptionHelp" required></textarea>
                                        <small id="fullDescriptionHelp" class="form-text text-muted">
                                            목표, 일정, 진행방식, 위치, 모집인원 등 최대한 자세히 적어주세요
                                        </small>
                                        <small class="invalid-feedback">자세한 일정을 공유해주세요.</small>
                                        <small class="form-text text-danger" th:if="${#fields.hasErrors('meetingDescription')}" th:errors="*{meetingDescription}">meetingDescription Error</small>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="flex items-center w-full justify-between p-3 border-t">

                            <div class="flex items-center space-x-2">

                                <!--<ion-icon name="checkmark-circle" class="text-green-600 text-xl"></ion-icon>
                                <div> You are successfuly uploaded</div>-->

                            </div>

                            <div class="flex space-x-2">
                                <button type="submit"
                                        id = "board_form_send"
                                        class="bg-blue-600 flex h-9 items-center justify-center rounded-md text-white px-5 font-medium">
                                    Post
                                </button>
                            </div>

                            <button type="submit" hidden
                                    class="bg-blue-600 flex h-9 items-center justify-center rounded-lg text-white px-12 font-semibold">
                                Post
                            </button>
                        </div>
                    </form>

                </div>
            </div>
            <div class="md:flex  md:space-x-8">
                <div class="space-y-5 flex-shrink-0 md:w-7/12">
                    <h1 class="block text-lg font-bold"> 최신 등록 모임  </h1>
                    <ul class="card divide-y divide-gray-100 sm:m-0 -mx-5">
                        <li>
                            <div class="flex items-start space-x-5 p-7">
                                <img src="assets/images/avatars/avatar-2.jpg" alt="" class="w-12 h-12 rounded-full">
                                <div class="flex-1">
                                    <a href="#" class="text-lg font-semibold line-clamp-1 mb-1">I have only recently found this particular keyword.  </a>
                                    <p class="text-sm text-gray-400 mb-2"> Posted By: <span data-href="%40tag-dev.html">Tag-dev</span> 8 hours ago</span> </p>
                                    <p class="leading-6 line-clamp-2 mt-3">Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat</p>
                                </div>
                                <div class="sm:flex items-center space-x-4 hidden">
                                    <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"></path><path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"></path></svg>
                                    <span class="text-xl"> 4 </span>
                                </div>
                            </div>
                        </li>
                    </ul>

                    <h1 class="block text-lg font-bold"> 이전 모임  </h1>
                    <ul class="card divide-y divide-gray-100 sm:m-0 -mx-5">
                        <li>
                            <div class="flex items-start space-x-5 p-7">
                                <img src="assets/images/avatars/avatar-2.jpg" alt="" class="w-12 h-12 rounded-full">
                                <div class="flex-1">
                                    <a href="#" class="text-lg font-semibold line-clamp-1 mb-1">I have only recently found this particular keyword.  </a>
                                    <p class="text-sm text-gray-400 mb-2"> Posted By: <span data-href="%40tag-dev.html">Tag-dev</span> 8 hours ago</span> </p>
                                    <p class="leading-6 line-clamp-2 mt-3">Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat</p>
                                </div>
                                <div class="sm:flex items-center space-x-4 hidden">
                                    <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"></path><path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"></path></svg>
                                    <span class="text-xl"> 4 </span>
                                </div>
                            </div>
                        </li>
                    </ul>

                    <ul class="card divide-y divide-gray-100 sm:m-0 -mx-5">
                        <li>
                            <div class="flex items-start space-x-5 p-7">
                                <img src="assets/images/avatars/avatar-2.jpg" alt="" class="w-12 h-12 rounded-full">
                                <div class="flex-1">
                                    <a href="#" class="text-lg font-semibold line-clamp-1 mb-1">I have only recently found this particular keyword.  </a>
                                    <p class="text-sm text-gray-400 mb-2"> Posted By: <span data-href="%40tag-dev.html">Tag-dev</span> 8 hours ago</span> </p>
                                    <p class="leading-6 line-clamp-2 mt-3">Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat</p>
                                </div>
                                <div class="sm:flex items-center space-x-4 hidden">
                                    <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"></path><path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"></path></svg>
                                    <span class="text-xl"> 4 </span>
                                </div>
                            </div>
                        </li>
                    </ul>


                </div>

                <div class="w-full flex-shirink-0">
                    <div class="flex items-center justify-between mb-2">
                        <div>
                            <h4 class="text-lg -mb-0.5 font-semibold">스터디 참여 인원</h4>
                        </div>
                    </div>

                    <!-- 스터디 인원 -->

                    <div class="card py-5 px-10">
                        <div th:each="manager : ${study.managers}"
                             class="flex items-center  hover:bg-gray-100 rounded-md -mx-2 p-2 pr-0">
                            <div class="flex-shrink-0 h-16 mr-3 relative rounded-md w-16">
                                <svg th:if="${#strings.isEmpty(manager?.profileImage)}"
                                     th:data-jdenticon-value="${manager.studentId}" class="border-2 border-grey rounded-full is_avatar" style="height: 64px; width: 64px"></svg>
                                <img th:if="${!#strings.isEmpty(manager?.profileImage)}"
                                     th:src="${manager?.profileImage}" class="border-2 border-grey rounded-full is_avatar"/>
                            </div>
                            <div class="flex-1">
                                <a href="#" th:href="@{/profile/{nickname}(nickname=${manager.nickname})}" th:text="${manager.nickname}" class="font-semibold line-clamp-1 mb-1 text-base">이름</a>
                                <div th:text="${manager.bio}" class="text-xs font-semibold">간단한 자기 소개</div>
                            </div>
                            <div class="flex flex-col font-semibold items-center justify-center py-1.5 px-4 rounded-md">
                                <i class="fa fa-id-badge"> 매니저</i>
                            </div>
                        </div>

                        <div th:each="member : ${study.members}"
                             class="flex items-center  hover:bg-gray-100 rounded-md -mx-2 p-2 pr-0">
                            <div class="flex-shrink-0 h-16 mr-3 relative rounded-md w-16">
                                <svg th:if="${#strings.isEmpty(member?.profileImage)}"
                                     th:data-jdenticon-value="${member.studentId}" class="border-2 border-grey rounded-full is_avatar" style="height: 64px; width: 64px"></svg>
                                <img th:if="${!#strings.isEmpty(member?.profileImage)}"
                                     th:src="${member?.profileImage}" class="border-2 border-grey rounded-full is_avatar"/>
                            </div>
                            <div class="flex-1">
                                <a href="#" th:href="@{/profile/{nickname}(nickname=${member.nickname})}" th:text="${member.nickname}" class="font-semibold line-clamp-1 mb-1 text-base">이름</a>
                                <div th:text="${member.bio}" class="text-xs font-semibold">간단한 자기 소개</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script th:replace="theme-fragments.html :: studyBanner"></script>
<script th:replace="theme-fragments.html :: form-validation"></script>
<script th:replace="theme-fragments.html :: ajax-csrf"></script>
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
<script type="application/javascript">
    $(document).ready(function() {
        //여기 아래 부분
        $('#fullDescription').summernote({
            height: 300,                 // 에디터 높이
            minHeight: null,             // 최소 높이
            maxHeight: null,             // 최대 높이
            focus: true,                  // 에디터 로딩후 포커스를 맞출지 여부
            lang: "ko-KR",					// 한글 설정
            placeholder: '스터디에 관련해서 최대한 자세히 작성해주세요. <br> 이미지 또한 사용 가능합니다.'	//placeholder 설정

        });
    });
</script>
</body>
</html>